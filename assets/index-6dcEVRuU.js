(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();const sa=!1;var Gt=Array.isArray,jt=Array.from,la=Object.defineProperty,qe=Object.getOwnPropertyDescriptor,ca=Object.getOwnPropertyDescriptors,ua=Object.prototype,va=Array.prototype,Nt=Object.getPrototypeOf;function fa(e){return typeof e=="function"}const we=()=>{};function da(e){for(var t=0;t<e.length;t++)e[t]()}function ge(e,t,n=!1){return e===void 0?n?t():t:e}const Te=2,Tn=4,rt=8,xt=16,_e=32,ot=64,Re=128,Dt=256,ae=512,Me=1024,it=2048,De=4096,st=8192,bn=16384,lt=32768,pa=1<<18,En=1<<19,Ne=Symbol("$state"),_a=Symbol("legacy props"),ga=Symbol("");function xn(e){return e===this.v}function Da(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function Vt(e){return!Da(e,this.v)}function ha(e){throw new Error("effect_in_teardown")}function ma(){throw new Error("effect_in_unowned_derived")}function Ia(e){throw new Error("effect_orphan")}function ya(){throw new Error("effect_update_depth_exceeded")}function wa(e){throw new Error("props_invalid_value")}function Ta(){throw new Error("state_descriptors_fixed")}function ba(){throw new Error("state_prototype_fixed")}function Ea(){throw new Error("state_unsafe_local_read")}function xa(){throw new Error("state_unsafe_mutation")}let Sn=!1;function ue(e){return{f:0,v:e,reactions:null,equals:xn,version:0}}function ve(e){return Sa(ue(e))}function kn(e,t=!1){const n=ue(e);return t||(n.equals=Vt),n}function Sa(e){return V!==null&&V.f&Te&&(he===null?ja([e]):he.push(e)),e}function L(e,t){return V!==null&&Ka()&&V.f&(Te|xt)&&(he===null||!he.includes(e))&&xa(),Rt(e,t)}function Rt(e,t){return e.equals(t)||(e.v=t,e.version=Wn(),Mn(e,Me),H!==null&&H.f&ae&&!(H.f&_e)&&(ne!==null&&ne.includes(e)?(Ie(H,Me),Ct(H)):Se===null?Va([e]):Se.push(e))),t}function Mn(e,t){var n=e.reactions;if(n!==null)for(var a=n.length,r=0;r<a;r++){var o=n[r],i=o.f;i&Me||(Ie(o,t),i&(ae|Re)&&(i&Te?Mn(o,it):Ct(o)))}}const Kt=1,Zt=2,An=4,ka=8,Ma=16,Aa=1,Ca=4,Oa=8,Ba=16,Na=4,Ra=1,Fa=2,oe=Symbol();let Cn=!1;function Q(e,t=null,n){if(typeof e!="object"||e===null||Ne in e)return e;const a=Nt(e);if(a!==ua&&a!==va)return e;var r=new Map,o=Gt(e),i=ue(0);o&&r.set("length",ue(e.length));var f;return new Proxy(e,{defineProperty(v,s,l){(!("value"in l)||l.configurable===!1||l.enumerable===!1||l.writable===!1)&&Ta();var p=r.get(s);return p===void 0?(p=ue(l.value),r.set(s,p)):L(p,Q(l.value,f)),!0},deleteProperty(v,s){var l=r.get(s);if(l===void 0)s in v&&r.set(s,ue(oe));else{if(o&&typeof s=="string"){var p=r.get("length"),c=Number(s);Number.isInteger(c)&&c<p.v&&L(p,c)}L(l,oe),sn(i)}return!0},get(v,s,l){var g;if(s===Ne)return e;var p=r.get(s),c=s in v;if(p===void 0&&(!c||(g=qe(v,s))!=null&&g.writable)&&(p=ue(Q(c?v[s]:oe,f)),r.set(s,p)),p!==void 0){var d=u(p);return d===oe?void 0:d}return Reflect.get(v,s,l)},getOwnPropertyDescriptor(v,s){var l=Reflect.getOwnPropertyDescriptor(v,s);if(l&&"value"in l){var p=r.get(s);p&&(l.value=u(p))}else if(l===void 0){var c=r.get(s),d=c==null?void 0:c.v;if(c!==void 0&&d!==oe)return{enumerable:!0,configurable:!0,value:d,writable:!0}}return l},has(v,s){var d;if(s===Ne)return!0;var l=r.get(s),p=l!==void 0&&l.v!==oe||Reflect.has(v,s);if(l!==void 0||H!==null&&(!p||(d=qe(v,s))!=null&&d.writable)){l===void 0&&(l=ue(p?Q(v[s],f):oe),r.set(s,l));var c=u(l);if(c===oe)return!1}return p},set(v,s,l,p){var B;var c=r.get(s),d=s in v;if(o&&s==="length")for(var g=l;g<c.v;g+=1){var h=r.get(g+"");h!==void 0?L(h,oe):g in v&&(h=ue(oe),r.set(g+"",h))}c===void 0?(!d||(B=qe(v,s))!=null&&B.writable)&&(c=ue(void 0),L(c,Q(l,f)),r.set(s,c)):(d=c.v!==oe,L(c,Q(l,f)));var m=Reflect.getOwnPropertyDescriptor(v,s);if(m!=null&&m.set&&m.set.call(p,l),!d){if(o&&typeof s=="string"){var b=r.get("length"),C=Number(s);Number.isInteger(C)&&C>=b.v&&L(b,C+1)}sn(i)}return!0},ownKeys(v){u(i);var s=Reflect.ownKeys(v).filter(c=>{var d=r.get(c);return d===void 0||d.v!==oe});for(var[l,p]of r)p.v!==oe&&!(l in v)&&s.push(l);return s},setPrototypeOf(){ba()}})}function sn(e,t=1){L(e,e.v+t)}function ln(e){return e!==null&&typeof e=="object"&&Ne in e?e[Ne]:e}function Pa(e,t){return Object.is(ln(e),ln(t))}var cn,On,Bn;function La(){if(cn===void 0){cn=window;var e=Element.prototype,t=Node.prototype;On=qe(t,"firstChild").get,Bn=qe(t,"nextSibling").get,e.__click=void 0,e.__className="",e.__attributes=null,e.__styles=null,e.__e=void 0,Text.prototype.__t=void 0}}function Jt(e=""){return document.createTextNode(e)}function ht(e){return On.call(e)}function St(e){return Bn.call(e)}function F(e,t){return ht(e)}function J(e,t){{var n=ht(e);return n instanceof Comment&&n.data===""?St(n):n}}function T(e,t=1,n=!1){let a=e;for(;t--;)a=St(a);return a}function qa(e){e.textContent=""}function te(e){var t=Te|Me;H===null?t|=Re:H.f|=En;const n={children:null,ctx:le,deps:null,equals:xn,f:t,fn:e,reactions:null,v:null,version:0,parent:H};if(V!==null&&V.f&Te){var a=V;(a.children??(a.children=[])).push(n)}return n}function Ke(e){const t=te(e);return t.equals=Vt,t}function Nn(e){var t=e.children;if(t!==null){e.children=null;for(var n=0;n<t.length;n+=1){var a=t[n];a.f&Te?Xt(a):Ae(a)}}}function Rn(e){var t,n=H;de(e.parent);try{Nn(e),t=Gn(e)}finally{de(n)}return t}function Fn(e){var t=Rn(e),n=(Le||e.f&Re)&&e.deps!==null?it:ae;Ie(e,n),e.equals(t)||(e.v=t,e.version=Wn())}function Xt(e){Nn(e),tt(e,0),Ie(e,st),e.v=e.children=e.deps=e.ctx=e.reactions=null}function za(e){H===null&&V===null&&Ia(),V!==null&&V.f&Re&&ma(),tn&&ha()}function Ha(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function je(e,t,n,a=!0){var r=(e&ot)!==0,o=H,i={ctx:le,deps:null,deriveds:null,nodes_start:null,nodes_end:null,f:e|Me,first:null,fn:t,last:null,next:null,parent:r?null:o,prev:null,teardown:null,transitions:null,version:0};if(n){var f=ze;try{un(!0),At(i),i.f|=bn}catch(l){throw Ae(i),l}finally{un(f)}}else t!==null&&Ct(i);var v=n&&i.deps===null&&i.first===null&&i.nodes_start===null&&i.teardown===null&&(i.f&En)===0;if(!v&&!r&&a&&(o!==null&&Ha(i,o),V!==null&&V.f&Te)){var s=V;(s.children??(s.children=[])).push(i)}return i}function Ua(e){const t=je(rt,null,!1);return Ie(t,ae),t.teardown=e,t}function Qt(e){za();var t=H!==null&&(H.f&_e)!==0&&le!==null&&!le.m;if(t){var n=le;(n.e??(n.e=[])).push({fn:e,effect:H,reaction:V})}else{var a=Ve(e);return a}}function Ya(e){const t=je(ot,e,!0);return()=>{Ae(t)}}function Ve(e){return je(Tn,e,!1)}function $t(e){return je(rt,e,!0)}function j(e){return kt(e)}function kt(e,t=0){return je(rt|xt|t,e,!0)}function Ye(e,t=!0){return je(rt|_e,e,!0,t)}function Pn(e){var t=e.teardown;if(t!==null){const n=tn,a=V;vn(!0),me(null);try{t.call(null)}finally{vn(n),me(a)}}}function Ln(e){var t=e.deriveds;if(t!==null){e.deriveds=null;for(var n=0;n<t.length;n+=1)Xt(t[n])}}function qn(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){var a=n.next;Ae(n,t),n=a}}function Wa(e){for(var t=e.first;t!==null;){var n=t.next;t.f&_e||Ae(t),t=n}}function Ae(e,t=!0){var n=!1;if((t||e.f&pa)&&e.nodes_start!==null){for(var a=e.nodes_start,r=e.nodes_end;a!==null;){var o=a===r?null:St(a);a.remove(),a=o}n=!0}qn(e,t&&!n),Ln(e),tt(e,0),Ie(e,st);var i=e.transitions;if(i!==null)for(const v of i)v.stop();Pn(e);var f=e.parent;f!==null&&f.first!==null&&zn(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.parent=e.fn=e.nodes_start=e.nodes_end=null}function zn(e){var t=e.parent,n=e.prev,a=e.next;n!==null&&(n.next=a),a!==null&&(a.prev=n),t!==null&&(t.first===e&&(t.first=a),t.last===e&&(t.last=n))}function Ft(e,t){var n=[];en(e,n,!0),Hn(n,()=>{Ae(e),t&&t()})}function Hn(e,t){var n=e.length;if(n>0){var a=()=>--n||t();for(var r of e)r.out(a)}else t()}function en(e,t,n){if(!(e.f&De)){if(e.f^=De,e.transitions!==null)for(const i of e.transitions)(i.is_global||n)&&t.push(i);for(var a=e.first;a!==null;){var r=a.next,o=(a.f&lt)!==0||(a.f&_e)!==0;en(a,t,o?n:!1),a=r}}}function mt(e){Un(e,!0)}function Un(e,t){if(e.f&De){ct(e)&&At(e),e.f^=De;for(var n=e.first;n!==null;){var a=n.next,r=(n.f&lt)!==0||(n.f&_e)!==0;Un(n,r?t:!1),n=a}if(e.transitions!==null)for(const o of e.transitions)(o.is_global||t)&&o.in()}}let Pt=!1,Lt=[];function Ga(){Pt=!1;const e=Lt.slice();Lt=[],da(e)}function Mt(e){Pt||(Pt=!0,queueMicrotask(Ga)),Lt.push(e)}let It=!1,ze=!1,tn=!1;function un(e){ze=e}function vn(e){tn=e}let qt=[],Xe=0;let V=null;function me(e){V=e}let H=null;function de(e){H=e}let he=null;function ja(e){he=e}let ne=null,ie=0,Se=null;function Va(e){Se=e}let Yn=0,Le=!1,le=null;function Wn(){return++Yn}function Ka(){return!Sn}function ct(e){var i,f;var t=e.f;if(t&Me)return!0;if(t&it){var n=e.deps,a=(t&Re)!==0;if(n!==null){var r;if(t&Dt){for(r=0;r<n.length;r++)((i=n[r]).reactions??(i.reactions=[])).push(e);e.f^=Dt}for(r=0;r<n.length;r++){var o=n[r];if(ct(o)&&Fn(o),a&&H!==null&&!Le&&!((f=o==null?void 0:o.reactions)!=null&&f.includes(e))&&(o.reactions??(o.reactions=[])).push(e),o.version>e.version)return!0}}a||Ie(e,ae)}return!1}function Za(e,t,n){throw e}function Gn(e){var c;var t=ne,n=ie,a=Se,r=V,o=Le,i=he,f=le,v=e.f;ne=null,ie=0,Se=null,V=v&(_e|ot)?null:e,Le=!ze&&(v&Re)!==0,he=null,le=e.ctx;try{var s=(0,e.fn)(),l=e.deps;if(ne!==null){var p;if(tt(e,ie),l!==null&&ie>0)for(l.length=ie+ne.length,p=0;p<ne.length;p++)l[ie+p]=ne[p];else e.deps=l=ne;if(!Le)for(p=ie;p<l.length;p++)((c=l[p]).reactions??(c.reactions=[])).push(e)}else l!==null&&ie<l.length&&(tt(e,ie),l.length=ie);return s}finally{ne=t,ie=n,Se=a,V=r,Le=o,he=i,le=f}}function Ja(e,t){let n=t.reactions;if(n!==null){var a=n.indexOf(e);if(a!==-1){var r=n.length-1;r===0?n=t.reactions=null:(n[a]=n[r],n.pop())}}n===null&&t.f&Te&&(ne===null||!ne.includes(t))&&(Ie(t,it),t.f&(Re|Dt)||(t.f^=Dt),tt(t,0))}function tt(e,t){var n=e.deps;if(n!==null)for(var a=t;a<n.length;a++)Ja(e,n[a])}function At(e){var t=e.f;if(!(t&st)){Ie(e,ae);var n=H;H=e;try{t&xt?Wa(e):qn(e),Ln(e),Pn(e);var a=Gn(e);e.teardown=typeof a=="function"?a:null,e.version=Yn}catch(r){Za(r)}finally{H=n}}}function Xa(){Xe>1e3&&(Xe=0,ya()),Xe++}function Qa(e){var t=e.length;if(t!==0){Xa();var n=ze;ze=!0;try{for(var a=0;a<t;a++){var r=e[a];r.f&ae||(r.f^=ae);var o=[];jn(r,o),$a(o)}}finally{ze=n}}}function $a(e){var t=e.length;if(t!==0)for(var n=0;n<t;n++){var a=e[n];!(a.f&(st|De))&&ct(a)&&(At(a),a.deps===null&&a.first===null&&a.nodes_start===null&&(a.teardown===null?zn(a):a.fn=null))}}function er(){if(It=!1,Xe>1001)return;const e=qt;qt=[],Qa(e),It||(Xe=0)}function Ct(e){It||(It=!0,queueMicrotask(er));for(var t=e;t.parent!==null;){t=t.parent;var n=t.f;if(n&(ot|_e)){if(!(n&ae))return;t.f^=ae}}qt.push(t)}function jn(e,t){var n=e.first,a=[];e:for(;n!==null;){var r=n.f,o=(r&_e)!==0,i=o&&(r&ae)!==0;if(!i&&!(r&De))if(r&rt){o?n.f^=ae:ct(n)&&At(n);var f=n.first;if(f!==null){n=f;continue}}else r&Tn&&a.push(n);var v=n.next;if(v===null){let p=n.parent;for(;p!==null;){if(e===p)break e;var s=p.next;if(s!==null){n=s;continue e}p=p.parent}}n=v}for(var l=0;l<a.length;l++)f=a[l],t.push(f),jn(f,t)}function u(e){var f;var t=e.f,n=(t&Te)!==0;if(n&&t&st){var a=Rn(e);return Xt(e),a}if(V!==null){he!==null&&he.includes(e)&&Ea();var r=V.deps;ne===null&&r!==null&&r[ie]===e?ie++:ne===null?ne=[e]:ne.push(e),Se!==null&&H!==null&&H.f&ae&&!(H.f&_e)&&Se.includes(e)&&(Ie(H,Me),Ct(H))}else if(n&&e.deps===null){var o=e,i=o.parent;i!==null&&!((f=i.deriveds)!=null&&f.includes(o))&&(i.deriveds??(i.deriveds=[])).push(o)}return n&&(o=e,ct(o)&&Fn(o)),e.v}function nt(e){const t=V;try{return V=null,e()}finally{V=t}}const tr=~(Me|it|ae);function Ie(e,t){e.f=e.f&tr|t}function Ce(e,t=!1,n){le={p:le,c:null,e:null,m:!1,s:e,x:null,l:null}}function Oe(e){const t=le;if(t!==null){const i=t.e;if(i!==null){var n=H,a=V;t.e=null;try{for(var r=0;r<i.length;r++){var o=i[r];de(o.effect),me(o.reaction),Ve(o.fn)}}finally{de(n),me(a)}}le=t.p,t.m=!0}return{}}let fn=!1;function nr(){fn||(fn=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const n of e.target.elements)(t=n.__on_r)==null||t.call(n)})},{capture:!0}))}function Vn(e){var t=V,n=H;me(null),de(null);try{return e()}finally{me(t),de(n)}}function nn(e,t,n,a=n){e.addEventListener(t,()=>Vn(n));const r=e.__on_r;r?e.__on_r=()=>{r(),a()}:e.__on_r=a,nr()}const Kn=new Set,zt=new Set;function ar(e,t,n,a){function r(o){if(a.capture||Ze.call(t,o),!o.cancelBubble)return Vn(()=>n.call(this,o))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?Mt(()=>{t.addEventListener(e,r,a)}):t.addEventListener(e,r,a),r}function Qe(e,t,n,a,r){var o={capture:a,passive:r},i=ar(e,t,n,o);(t===document.body||t===window||t===document)&&Ua(()=>{t.removeEventListener(e,i,o)})}function ut(e){for(var t=0;t<e.length;t++)Kn.add(e[t]);for(var n of zt)n(e)}function Ze(e){var C;var t=this,n=t.ownerDocument,a=e.type,r=((C=e.composedPath)==null?void 0:C.call(e))||[],o=r[0]||e.target,i=0,f=e.__root;if(f){var v=r.indexOf(f);if(v!==-1&&(t===document||t===window)){e.__root=t;return}var s=r.indexOf(t);if(s===-1)return;v<=s&&(i=v)}if(o=r[i]||e.target,o!==t){la(e,"currentTarget",{configurable:!0,get(){return o||n}});var l=V,p=H;me(null),de(null);try{for(var c,d=[];o!==null;){var g=o.assignedSlot||o.parentNode||o.host||null;try{var h=o["__"+a];if(h!==void 0&&!o.disabled)if(Gt(h)){var[m,...b]=h;m.apply(o,[e,...b])}else h.call(o,e)}catch(B){c?d.push(B):c=B}if(e.cancelBubble||g===t||g===null)break;o=g}if(c){for(let B of d)queueMicrotask(()=>{throw B});throw c}}finally{e.__root=t,delete e.currentTarget,me(l),de(p)}}}function rr(e){var t=document.createElement("template");return t.innerHTML=e,t.content}function Ht(e,t){var n=H;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function y(e,t){var n=(t&Ra)!==0,a=(t&Fa)!==0,r,o=!e.startsWith("<!>");return()=>{r===void 0&&(r=rr(o?e:"<!>"+e),n||(r=ht(r)));var i=a?document.importNode(r,!0):r.cloneNode(!0);if(n){var f=ht(i),v=i.lastChild;Ht(f,v)}else Ht(i,i);return i}}function se(){var e=document.createDocumentFragment(),t=document.createComment(""),n=Jt();return e.append(t,n),Ht(t,n),e}function D(e,t){e!==null&&e.before(t)}const or=["touchstart","touchmove"];function ir(e){return or.includes(e)}let Ut=!0;function ee(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n==null?"":n+"")}function sr(e,t){return lr(e,t)}const Fe=new Map;function lr(e,{target:t,anchor:n,props:a={},events:r,context:o,intro:i=!0}){La();var f=new Set,v=p=>{for(var c=0;c<p.length;c++){var d=p[c];if(!f.has(d)){f.add(d);var g=ir(d);t.addEventListener(d,Ze,{passive:g});var h=Fe.get(d);h===void 0?(document.addEventListener(d,Ze,{passive:g}),Fe.set(d,1)):Fe.set(d,h+1)}}};v(jt(Kn)),zt.add(v);var s=void 0,l=Ya(()=>{var p=n??t.appendChild(Jt());return Ye(()=>{if(o){Ce({});var c=le;c.c=o}r&&(a.$$events=r),Ut=i,s=e(p,a)||{},Ut=!0,o&&Oe()}),()=>{var g;for(var c of f){t.removeEventListener(c,Ze);var d=Fe.get(c);--d===0?(document.removeEventListener(c,Ze),Fe.delete(c)):Fe.set(c,d)}zt.delete(v),dn.delete(s),p!==n&&((g=p.parentNode)==null||g.removeChild(p))}});return dn.set(s,l),s}let dn=new WeakMap;function R(e,t,n,a=null,r=!1){var o=e,i=null,f=null,v=null,s=r?lt:0;kt(()=>{v!==(v=!!t())&&(v?(i?mt(i):i=Ye(()=>n(o)),f&&Ft(f,()=>{f=null})):(f?mt(f):a&&(f=Ye(()=>a(o))),i&&Ft(i,()=>{i=null})))},s)}function We(e,t){return t}function cr(e,t,n,a){for(var r=[],o=t.length,i=0;i<o;i++)en(t[i].e,r,!0);var f=o>0&&r.length===0&&n!==null;if(f){var v=n.parentNode;qa(v),v.append(n),a.clear(),Ee(e,t[0].prev,t[o-1].next)}Hn(r,()=>{for(var s=0;s<o;s++){var l=t[s];f||(a.delete(l.k),Ee(e,l.prev,l.next)),Ae(l.e,!f)}})}function ke(e,t,n,a,r,o=null){var i=e,f={flags:t,items:new Map,first:null},v=(t&An)!==0;if(v){var s=e;i=s.appendChild(Jt())}var l=null,p=!1;kt(()=>{var c=n(),d=Gt(c)?c:c==null?[]:jt(c),g=d.length;if(!(p&&g===0)){p=g===0;{var h=V;ur(d,f,i,r,t,(h.f&De)!==0,a)}o!==null&&(g===0?l?mt(l):l=Ye(()=>o(i)):l!==null&&Ft(l,()=>{l=null})),n()}})}function ur(e,t,n,a,r,o,i){var S,U,N,M;var f=(r&ka)!==0,v=(r&(Kt|Zt))!==0,s=e.length,l=t.items,p=t.first,c=p,d,g=null,h,m=[],b=[],C,B,E,k;if(f)for(k=0;k<s;k+=1)C=e[k],B=i(C,k),E=l.get(B),E!==void 0&&((S=E.a)==null||S.measure(),(h??(h=new Set)).add(E));for(k=0;k<s;k+=1){if(C=e[k],B=i(C,k),E=l.get(B),E===void 0){var K=c?c.e.nodes_start:n;g=fr(K,t,g,g===null?t.first:g.next,C,B,k,a,r),l.set(B,g),m=[],b=[],c=g.next;continue}if(v&&vr(E,C,k,r),E.e.f&De&&(mt(E.e),f&&((U=E.a)==null||U.unfix(),(h??(h=new Set)).delete(E))),E!==c){if(d!==void 0&&d.has(E)){if(m.length<b.length){var q=b[0],_;g=q.prev;var I=m[0],x=m[m.length-1];for(_=0;_<m.length;_+=1)pn(m[_],q,n);for(_=0;_<b.length;_+=1)d.delete(b[_]);Ee(t,I.prev,x.next),Ee(t,g,I),Ee(t,x,q),c=q,g=x,k-=1,m=[],b=[]}else d.delete(E),pn(E,c,n),Ee(t,E.prev,E.next),Ee(t,E,g===null?t.first:g.next),Ee(t,g,E),g=E;continue}for(m=[],b=[];c!==null&&c.k!==B;)(o||!(c.e.f&De))&&(d??(d=new Set)).add(c),b.push(c),c=c.next;if(c===null)continue;E=c}m.push(E),g=E,c=E.next}if(c!==null||d!==void 0){for(var A=d===void 0?[]:jt(d);c!==null;)(o||!(c.e.f&De))&&A.push(c),c=c.next;var P=A.length;if(P>0){var w=r&An&&s===0?n:null;if(f){for(k=0;k<P;k+=1)(N=A[k].a)==null||N.measure();for(k=0;k<P;k+=1)(M=A[k].a)==null||M.fix()}cr(t,A,w,l)}}f&&Mt(()=>{var O;if(h!==void 0)for(E of h)(O=E.a)==null||O.apply()}),H.first=t.first&&t.first.e,H.last=g&&g.e}function vr(e,t,n,a){a&Kt&&Rt(e.v,t),a&Zt?Rt(e.i,n):e.i=n}function fr(e,t,n,a,r,o,i,f,v){var s=(v&Kt)!==0,l=(v&Ma)===0,p=s?l?kn(r):ue(r):r,c=v&Zt?ue(i):i,d={i:c,v:p,k:o,a:null,e:null,prev:n,next:a};try{return d.e=Ye(()=>f(e,p,c),Cn),d.e.prev=n&&n.e,d.e.next=a&&a.e,n===null?t.first=d:(n.next=d,n.e.next=d.e),a!==null&&(a.prev=d,a.e.prev=d.e),d}finally{}}function pn(e,t,n){for(var a=e.next?e.next.e.nodes_start:n,r=t?t.e.nodes_start:n,o=e.e.nodes_start;o!==a;){var i=St(o);r.before(o),o=i}}function Ee(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function Yt(e,t,...n){var a=e,r=we,o;kt(()=>{r!==(r=t())&&(o&&(Ae(o),o=null),o=Ye(()=>r(a,...n)))},lt)}function gt(e,t){var n=e.__attributes??(e.__attributes={});n.value===(n.value=t)||e.value===t&&(t!==0||e.nodeName!=="PROGRESS")||(e.value=t)}function fe(e,t,n,a){var r=e.__attributes??(e.__attributes={});r[t]!==(r[t]=n)&&(t==="style"&&"__styles"in e&&(e.__styles={}),t==="loading"&&(e[ga]=n),n==null?e.removeAttribute(t):typeof n!="string"&&dr(e).includes(t)?e[t]=n:e.setAttribute(t,n))}var _n=new Map;function dr(e){var t=_n.get(e.nodeName);if(t)return t;_n.set(e.nodeName,t=[]);for(var n,a=Nt(e),r=Element.prototype;r!==a;){n=ca(a);for(var o in n)n[o].set&&t.push(o);a=Nt(a)}return t}function He(e,t){var n=e.__className,a=pr(t);(n!==a||Cn)&&(t==null?e.removeAttribute("class"):e.className=a,e.__className=a)}function pr(e){return e??""}const _r=()=>performance.now(),xe={tick:e=>requestAnimationFrame(e),now:()=>_r(),tasks:new Set};function Zn(e){xe.tasks.forEach(t=>{t.c(e)||(xe.tasks.delete(t),t.f())}),xe.tasks.size!==0&&xe.tick(Zn)}function gr(e){let t;return xe.tasks.size===0&&xe.tick(Zn),{promise:new Promise(n=>{xe.tasks.add(t={c:e,f:n})}),abort(){xe.tasks.delete(t)}}}function pt(e,t){e.dispatchEvent(new CustomEvent(t))}function Dr(e){if(e==="float")return"cssFloat";if(e==="offset")return"cssOffset";if(e.startsWith("--"))return e;const t=e.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(n=>n[0].toUpperCase()+n.slice(1)).join("")}function gn(e){const t={},n=e.split(";");for(const a of n){const[r,o]=a.split(":");if(!r||o===void 0)break;const i=Dr(r.trim());t[i]=o.trim()}return t}const hr=e=>e;function yt(e,t,n,a){var r=(e&Na)!==0,o="both",i,f=t.inert,v,s;function l(){var h=V,m=H;me(null),de(null);try{return i??(i=n()(t,(a==null?void 0:a())??{},{direction:o}))}finally{me(h),de(m)}}var p={is_global:r,in(){t.inert=f,pt(t,"introstart"),v=Wt(t,l(),s,1,()=>{pt(t,"introend"),v==null||v.abort(),v=i=void 0})},out(h){t.inert=!0,pt(t,"outrostart"),s=Wt(t,l(),v,0,()=>{pt(t,"outroend"),h==null||h()})},stop:()=>{v==null||v.abort(),s==null||s.abort()}},c=H;if((c.transitions??(c.transitions=[])).push(p),Ut){var d=r;if(!d){for(var g=c.parent;g&&g.f&lt;)for(;(g=g.parent)&&!(g.f&xt););d=!g||(g.f&bn)!==0}d&&Ve(()=>{nt(()=>p.in())})}}function Wt(e,t,n,a,r){var o=a===1;if(fa(t)){var i,f=!1;return Mt(()=>{if(!f){var m=t({direction:o?"in":"out"});i=Wt(e,m,n,a,r)}}),{abort:()=>{f=!0,i==null||i.abort()},deactivate:()=>i.deactivate(),reset:()=>i.reset(),t:()=>i.t()}}if(n==null||n.deactivate(),!(t!=null&&t.duration))return r(),{abort:we,deactivate:we,reset:we,t:()=>a};const{delay:v=0,css:s,tick:l,easing:p=hr}=t;var c=[];if(o&&n===void 0&&(l&&l(0,1),s)){var d=gn(s(0,1));c.push(d,d)}var g=()=>1-a,h=e.animate(c,{duration:v});return h.onfinish=()=>{var m=(n==null?void 0:n.t())??1-a;n==null||n.abort();var b=a-m,C=t.duration*Math.abs(b),B=[];if(C>0){if(s)for(var E=Math.ceil(C/16.666666666666668),k=0;k<=E;k+=1){var K=m+b*p(k/E),q=s(K,1-K);B.push(gn(q))}g=()=>{var _=h.currentTime;return m+b*p(_/C)},l&&gr(()=>{if(h.playState!=="running")return!1;var _=g();return l(_,1-_),!0})}h=e.animate(B,{duration:C,fill:"forwards"}),h.onfinish=()=>{g=()=>a,l==null||l(a,1-a),r()}},{abort:()=>{h&&(h.cancel(),h.effect=null,h.onfinish=we)},deactivate:()=>{r=we},reset:()=>{a===0&&(l==null||l(1,0))},t:()=>g()}}function Bt(e,t,n=t){nn(e,"input",()=>{var a=Dn(e)?hn(e.value):e.value;n(a),a!==(a=t())&&(e.value=a??"")}),$t(()=>{var a=t();Dn(e)&&a===hn(e.value)||e.type==="date"&&!a&&!e.value||a!==e.value&&(e.value=a??"")})}function mr(e,t,n=t){nn(e,"change",()=>{var a=e.checked;n(a)}),t()==null&&n(!1),$t(()=>{var a=t();e.checked=!!a})}function Dn(e){var t=e.type;return t==="number"||t==="range"}function hn(e){return e===""?null:+e}function wt(e,t,n){if(e.multiple)return Ir(e,t);for(var a of e.options){var r=$e(a);if(Pa(r,t)){a.selected=!0;return}}(!n||t!==void 0)&&(e.selectedIndex=-1)}function Jn(e,t){let n=!0;Ve(()=>{t&&wt(e,nt(t),n),n=!1;var a=new MutationObserver(()=>{var r=e.__value;wt(e,r)});return a.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{a.disconnect()}})}function mn(e,t,n=t){var a=!0;nn(e,"change",()=>{var r;if(e.multiple)r=[].map.call(e.querySelectorAll(":checked"),$e);else{var o=e.querySelector(":checked");r=o&&$e(o)}n(r)}),Ve(()=>{var r=t();if(wt(e,r,a),a&&r===void 0){var o=e.querySelector(":checked");o!==null&&(r=$e(o),n(r))}e.__value=r,a=!1}),Jn(e)}function Ir(e,t){for(var n of e.options)n.selected=~t.indexOf($e(n))}function $e(e){return"__value"in e?e.__value:e.value}function In(e,t){return e===t||(e==null?void 0:e[Ne])===t}function yr(e={},t,n,a){return Ve(()=>{var r,o;return $t(()=>{r=o,o=[],nt(()=>{e!==n(...o)&&(t(e,...o),r&&In(n(...r),e)&&t(null,...r))})}),()=>{Mt(()=>{o&&In(n(...o),e)&&t(null,...o)})}}),e}let _t=!1;function wr(e){var t=_t;try{return _t=!1,[e(),_t]}finally{_t=t}}function Tr(e){for(var t=H,n=H;t!==null&&!(t.f&(_e|ot));)t=t.parent;try{return de(t),e()}finally{de(n)}}function Ge(e,t,n,a){var K;var r=(n&Aa)!==0,o=!Sn,i=(n&Oa)!==0,f=(n&Ba)!==0,v=!1,s;i?[s,v]=wr(()=>e[t]):s=e[t];var l=Ne in e||_a in e,p=((K=qe(e,t))==null?void 0:K.set)??(l&&i&&t in e?q=>e[t]=q:void 0),c=a,d=!0,g=!1,h=()=>(g=!0,d&&(d=!1,f?c=nt(a):c=a),c);s===void 0&&a!==void 0&&(p&&o&&wa(),s=h(),p&&p(s));var m;if(m=()=>{var q=e[t];return q===void 0?h():(d=!0,g=!1,q)},!(n&Ca))return m;if(p){var b=e.$$legacy;return function(q,_){return arguments.length>0?((!_||b||v)&&p(_?m():q),q):m()}}var C=!1,B=!1,E=kn(s),k=Tr(()=>te(()=>{var q=m(),_=u(E);return C?(C=!1,B=!0,_):(B=!1,E.v=q)}));return r||(k.equals=Vt),function(q,_){if(arguments.length>0){const I=_?u(k):i?Q(q):q;return k.equals(I)||(C=!0,L(E,I),g&&c!==void 0&&(c=I),nt(()=>u(k))),q}return u(k)}}const br="5";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(br);var Er=y("<div><!></div>");function Xn(e,t){Ce(t,!0);let a=`card ${Ge(t,"cardClass",3,"")()}`;var r=Er();He(r,`${a??""} svelte-1mfwzo8`);var o=F(r);Yt(o,()=>t.cardBody??we),D(e,r),Oe()}function Qn(e){const t=e-1;return t*t*t+1}function $n(e,{delay:t=0,duration:n=400,easing:a=Qn,axis:r="y"}={}){const o=getComputedStyle(e),i=+o.opacity,f=r==="y"?"height":"width",v=parseFloat(o[f]),s=r==="y"?["top","bottom"]:["left","right"],l=s.map(b=>`${b[0].toUpperCase()}${b.slice(1)}`),p=parseFloat(o[`padding${l[0]}`]),c=parseFloat(o[`padding${l[1]}`]),d=parseFloat(o[`margin${l[0]}`]),g=parseFloat(o[`margin${l[1]}`]),h=parseFloat(o[`border${l[0]}Width`]),m=parseFloat(o[`border${l[1]}Width`]);return{delay:t,duration:n,easing:a,css:b=>`overflow: hidden;opacity: ${Math.min(b*20,1)*i};${f}: ${b*v}px;padding-${s[0]}: ${b*p}px;padding-${s[1]}: ${b*c}px;margin-${s[0]}: ${b*d}px;margin-${s[1]}: ${b*g}px;border-${s[0]}-width: ${b*h}px;border-${s[1]}-width: ${b*m}px;`}}function ea(e,{delay:t=0,duration:n=400,easing:a=Qn,start:r=0,opacity:o=0}={}){const i=getComputedStyle(e),f=+i.opacity,v=i.transform==="none"?"":i.transform,s=1-r,l=f*(1-o);return{delay:t,duration:n,easing:a,css:(p,c)=>`
			transform: ${v} scale(${1-s*c});
			opacity: ${f-l*c}
		`}}function xr(e){return e<.5?8*Math.pow(e,4):-8*Math.pow(e-1,4)+1}var Sr=y('<div class="row svelte-ttqsz4"><!></div>'),kr=y('<dialog class="svelte-ttqsz4"><!> <!></dialog>');function at(e,t){Ce(t,!0);let n=Ge(t,"showModal",15),a=Ge(t,"modalButtons",3,void 0),r=ve(void 0);Qt(()=>{n()&&u(r).showModal()});var o=kr(),i=F(o);Yt(i,()=>t.modalBody??we);var f=T(i,2);R(f,a,v=>{var s=Sr(),l=F(s);Yt(l,()=>a()??we),D(v,s)}),yr(o,v=>L(r,v),()=>u(r)),Qe("close",o,()=>n(!1)),yt(3,o,()=>ea,()=>({duration:200,easing:xr})),D(e,o),Oe()}const be=new Date;be.setUTCHours(24,0,0,0);let Mr=be.getFullYear(),Ar=String(be.getMonth()+1).padStart(2,"0"),Cr=String(be.getDate()).padStart(2,"0");const Tt=`${Mr}-${Ar}-${Cr}`,Z=Q({sectionDisplayed:["checking"],oneSectionAtATime:!0,testingMode:!1,canToggleTestingMode:!0,showConnectErrorModal:!1}),X=Q({budget:[],checking:[],savings:[],ready:!1,maxEnvelopes:0,highestTransactionID:0,firstTransactionDate:"",lastTransactionDate:""});async function Or(){try{const e=await fetch("../php/read.php");if(!e.ok)throw new Error("Network response was not ok");const t=await e.json();Object.assign(X,t)}catch(e){console.error("Fetch error:",e),Object.assign(X,Fr),Z.showConnectErrorModal=!0,Z.testingMode=!0,Z.canToggleTestingMode=!1,setTimeout(()=>Z.showConnectErrorModal=!1,2e3)}X.ready=!0,X.maxEnvelopes=X.checking.length,Nr(),Br()}const bt=["budget","checking","savings"],Et=Q({});function Br(){bt.forEach(e=>{Et[e]={},X[e].forEach(t=>{Et[e][t.envelopeID]=t.envelopeTitle})})}const Pe=Q([]);let Je=Q([]);function Nr(){let e=new Date(X.firstTransactionDate);for(e.setDate(e.getDate()+1);e<=be;)Je.push(e.toISOString().slice(0,7)),e.setMonth(e.getMonth()+1)}const W=new Date(be.getFullYear(),be.getMonth()-1,1).toISOString().slice(0,7),Rr=new Date(be.getFullYear(),be.getMonth()-2,1),z=Rr.toISOString().slice(0,7),Fr={highestTransactionID:89,firstTransactionDate:`${z}-01`,budget:[{envelopeID:1,envelopeTitle:"Income",envelopeDescription:null,transactions:[{transactionID:1,envelopeID:1,transactionDescription:"Bryant",date:"2025-01-01",amount:4616.52,repeating:!1},{transactionID:2,envelopeID:1,transactionDescription:"Takeda",date:"2025-01-01",amount:7800,repeating:!1}]},{envelopeID:3,envelopeTitle:"Savings",envelopeDescription:null,transactions:[{transactionID:3,envelopeID:3,transactionDescription:"Home",date:"2025-01-01",amount:500,repeating:!1},{transactionID:4,envelopeID:3,transactionDescription:"Car",date:"2025-01-01",amount:392,repeating:!1},{transactionID:5,envelopeID:3,transactionDescription:"Utilities",date:"2025-01-01",amount:229,repeating:!1},{transactionID:6,envelopeID:3,transactionDescription:"Travel",date:"2025-01-01",amount:250,repeating:!1},{transactionID:7,envelopeID:3,transactionDescription:"Emergency",date:"2025-01-01",amount:250,repeating:!1}]},{envelopeID:4,envelopeTitle:"Housing",envelopeDescription:"Mortgages and HOA",transactions:[{transactionID:8,envelopeID:4,transactionDescription:"Mortgage",date:"2025-01-01",amount:918,repeating:!1},{transactionID:9,envelopeID:4,transactionDescription:"HOA",date:"2025-01-14",amount:150,repeating:!1}]},{envelopeID:5,envelopeTitle:"Transportation",envelopeDescription:null,transactions:[{transactionID:10,envelopeID:5,transactionDescription:"Tesla Lease",date:"2025-01-01",amount:515,repeating:!1},{transactionID:11,envelopeID:5,transactionDescription:"Honda Loan",date:"2025-01-13",amount:305,repeating:!1},{transactionID:12,envelopeID:5,transactionDescription:"Gas",date:"2025-01-13",amount:100,repeating:!1}]},{envelopeID:6,envelopeTitle:"Utilities",envelopeDescription:"Utilities that are billed monthly and are pretty regular (electric, phone, internet)",transactions:[{transactionID:13,envelopeID:6,transactionDescription:"Internet",date:"2025-01-01",amount:82.77,repeating:!1},{transactionID:14,envelopeID:6,transactionDescription:"T-Mobile",date:"2025-01-01",amount:39,repeating:!1},{transactionID:15,envelopeID:6,transactionDescription:"Electric",date:"2025-01-05",amount:160,repeating:!1}]},{envelopeID:7,envelopeTitle:"Groceries and Home",envelopeDescription:"Include items purchased for the home from Amazon, etc.",transactions:[{transactionID:16,envelopeID:7,transactionDescription:"Grocery Stores",date:"2025-01-01",amount:1e3,repeating:!1},{transactionID:17,envelopeID:7,transactionDescription:"Amazon",date:"2025-01-01",amount:200,repeating:!1}]},{envelopeID:8,envelopeTitle:"Health",envelopeDescription:"Gym, doctors, chiropractor",transactions:[{transactionID:18,envelopeID:8,transactionDescription:"Planet Fitness",date:"2025-01-17",amount:10.64,repeating:!1},{transactionID:19,envelopeID:8,transactionDescription:"Chiropractor",date:"2025-01-01",amount:40,repeating:!1}]},{envelopeID:11,envelopeTitle:"Streaming Services",envelopeDescription:null,transactions:[{transactionID:20,envelopeID:11,transactionDescription:"Youtube Premium",date:"2025-01-03",amount:24.45,repeating:!1},{transactionID:21,envelopeID:11,transactionDescription:"Netflix",date:"2025-01-08",amount:24.45,repeating:!1},{transactionID:22,envelopeID:11,transactionDescription:"Spotify",date:"2025-01-28",amount:12.75,repeating:!1}]}],checking:[{envelopeID:13,envelopeTitle:"Income",envelopeDescription:null,transactions:[{transactionID:23,envelopeID:13,transactionDescription:"Starting Balance",date:`${z}-01`,amount:8904,repeating:!0},{transactionID:24,envelopeID:13,transactionDescription:"Bryant",date:`${z}-01`,amount:4616.52,repeating:!0},{transactionID:25,envelopeID:13,transactionDescription:"Takeda",date:`${z}-01`,amount:7707.82,repeating:!0},{transactionID:63,envelopeID:13,transactionDescription:"Starting Balance",date:`${W}-01`,amount:9542,repeating:!0},{transactionID:64,envelopeID:13,transactionDescription:"Bryant",date:`${W}-01`,amount:4616.52,repeating:!0},{transactionID:65,envelopeID:13,transactionDescription:"Takeda",date:`${W}-01`,amount:10657.93,repeating:!0}]},{envelopeID:15,envelopeTitle:"Savings",envelopeDescription:null,transactions:[{transactionID:26,envelopeID:3,transactionDescription:"Home",date:`${z}-01`,amount:500,repeating:!0},{transactionID:27,envelopeID:3,transactionDescription:"Car",date:`${z}-01`,amount:392,repeating:!0},{transactionID:28,envelopeID:3,transactionDescription:"Utilities",date:`${z}-01`,amount:229,repeating:!0},{transactionID:29,envelopeID:3,transactionDescription:"Travel",date:`${z}-01`,amount:250,repeating:!0},{transactionID:30,envelopeID:3,transactionDescription:"Emergency",date:`${z}-01`,amount:250,repeating:!0},{transactionID:66,envelopeID:3,transactionDescription:"Home",date:`${W}-01`,amount:500,repeating:!0},{transactionID:67,envelopeID:3,transactionDescription:"Car",date:`${W}-01`,amount:392,repeating:!0},{transactionID:68,envelopeID:3,transactionDescription:"Utilities",date:`${W}-01`,amount:229,repeating:!0},{transactionID:69,envelopeID:3,transactionDescription:"Travel",date:`${W}-01`,amount:250,repeating:!0},{transactionID:70,envelopeID:3,transactionDescription:"Emergency",date:`${W}-01`,amount:250,repeating:!0}]},{envelopeID:16,envelopeTitle:"Housing",envelopeDescription:"Mortgages and HOA",transactions:[{transactionID:31,envelopeID:16,transactionDescription:"Mortgage",date:`${z}-01`,amount:918,repeating:!0},{transactionID:32,envelopeID:16,transactionDescription:"HOA",date:`${z}-14`,amount:150,repeating:!0},{transactionID:71,envelopeID:16,transactionDescription:"Mortgage",date:`${W}-01`,amount:918,repeating:!0},{transactionID:72,envelopeID:16,transactionDescription:"HOA",date:`${W}-14`,amount:150,repeating:!0}]},{envelopeID:17,envelopeTitle:"Transportation",envelopeDescription:null,transactions:[{transactionID:33,envelopeID:17,transactionDescription:"Tesla Lease",date:`${z}-05`,amount:515,repeating:!0},{transactionID:34,envelopeID:17,transactionDescription:"Honda Loan",date:`${z}-08`,amount:305.79,repeating:!0},{transactionID:35,envelopeID:17,transactionDescription:"Gas",date:`${z}-05`,amount:31.38,repeating:!1},{transactionID:73,envelopeID:17,transactionDescription:"Tesla Lease",date:`${W}-05`,amount:515,repeating:!0},{transactionID:74,envelopeID:17,transactionDescription:"Honda Loan",date:`${W}-08`,amount:305.79,repeating:!0},{transactionID:75,envelopeID:17,transactionDescription:"Gas",date:`${W}-05`,amount:51.24,repeating:!1}]},{envelopeID:18,envelopeTitle:"Utilities",envelopeDescription:"Utilities that are billed monthly and are pretty regular (electric, phone, internet)",transactions:[{transactionID:36,envelopeID:18,transactionDescription:"Electric",date:`${z}-05`,amount:133.22,repeating:!0},{transactionID:37,envelopeID:18,transactionDescription:"T-Mobile",date:`${z}-01`,amount:39,repeating:!0},{transactionID:38,envelopeID:18,transactionDescription:"Internet",date:`${z}-02`,amount:83,repeating:!0},{transactionID:76,envelopeID:18,transactionDescription:"Electric",date:`${W}-05`,amount:104.32,repeating:!0},{transactionID:77,envelopeID:18,transactionDescription:"T-Mobile",date:`${W}-01`,amount:39,repeating:!0},{transactionID:78,envelopeID:18,transactionDescription:"Internet",date:`${W}-02`,amount:83,repeating:!0}]},{envelopeID:19,envelopeTitle:"Groceries and Home",envelopeDescription:"Include items purchased for the home from Amazon, etc.",transactions:[{transactionID:39,envelopeID:19,transactionDescription:"Aldi",date:`${z}-03`,amount:190.11,repeating:!1},{transactionID:40,envelopeID:19,transactionDescription:"Stop and Shop",date:`${z}-09`,amount:100.25,repeating:!1},{transactionID:41,envelopeID:19,transactionDescription:"Walmart",date:`${z}-17`,amount:83.46,repeating:!1},{transactionID:79,envelopeID:19,transactionDescription:"Aldi",date:`${W}-03`,amount:200.11,repeating:!1},{transactionID:80,envelopeID:19,transactionDescription:"Stop and Shop",date:`${W}-09`,amount:150.25,repeating:!1},{transactionID:81,envelopeID:19,transactionDescription:"Walmart",date:`${W}-17`,amount:120.46,repeating:!1}]},{envelopeID:20,envelopeTitle:"Health",envelopeDescription:"Gym, doctors, chiropractor",transactions:[{transactionID:42,envelopeID:20,transactionDescription:"Chiropractor",date:`${z}-04`,amount:40,repeating:!1},{transactionID:43,envelopeID:20,transactionDescription:"Chiropractor",date:`${z}-19`,amount:40,repeating:!1},{transactionID:44,envelopeID:20,transactionDescription:"Planet Fitness",date:`${z}-17`,amount:10.64,repeating:!0},{transactionID:82,envelopeID:20,transactionDescription:"Chiropractor",date:`${W}-04`,amount:40,repeating:!1},{transactionID:83,envelopeID:20,transactionDescription:"Planet Fitness",date:`${W}-17`,amount:10.64,repeating:!0}]},{envelopeID:23,envelopeTitle:"Streaming Services",envelopeDescription:null,transactions:[{transactionID:45,envelopeID:23,transactionDescription:"Netflix",date:`${z}-08`,amount:24.45,repeating:!0},{transactionID:46,envelopeID:23,transactionDescription:"Youtube Premium",date:`${z}-03`,amount:24.45,repeating:!0},{transactionID:47,envelopeID:23,transactionDescription:"Spotify",date:`${z}-28`,amount:12.75,repeating:!0},{transactionID:84,envelopeID:23,transactionDescription:"Netflix",date:`${W}-08`,amount:24.45,repeating:!0},{transactionID:85,envelopeID:23,transactionDescription:"Youtube Premium",date:`${W}-03`,amount:24.45,repeating:!0},{transactionID:86,envelopeID:23,transactionDescription:"Spotify",date:`${W}-28`,amount:12.75,repeating:!0}]}],savings:[{envelopeID:25,envelopeTitle:"Home",envelopeDescription:"Condo insurance and home repair/improvement",transactions:[{transactionID:48,envelopeID:25,transactionDescription:"Starting Balance",date:`${z}-01`,amount:9500,repeating:!1},{transactionID:49,envelopeID:25,transactionDescription:"Deposit",date:`${W}-01`,amount:500,repeating:!0}]},{envelopeID:26,envelopeTitle:"Cars",envelopeDescription:"Honda insurance, taxes, money for maintenance and down payments on future cars",transactions:[{transactionID:50,envelopeID:26,transactionDescription:"Starting Balance",date:`${z}-01`,amount:4176,repeating:!1},{transactionID:51,envelopeID:25,transactionDescription:"Oil Change",date:`${z}-10`,amount:-79.55,repeating:!1},{transactionID:52,envelopeID:25,transactionDescription:"Deposit",date:`${W}-01`,amount:392,repeating:!0}]},{envelopeID:28,envelopeTitle:"Utilities",envelopeDescription:"Billed less than monthly (e.g. sewer tax bill) or amounts vary significantly (e.g. propane)",transactions:[{transactionID:53,envelopeID:28,transactionDescription:"Starting Balance",date:`${z}-01`,amount:1822,repeating:!1},{transactionID:54,envelopeID:28,transactionDescription:"Propane",date:`${z}-20`,amount:-74.38,repeating:!0},{transactionID:55,envelopeID:28,transactionDescription:"Garbage",date:`${W}-16`,amount:-141.27,repeating:!1},{transactionID:87,envelopeID:28,transactionDescription:"Deposit",date:`${W}-01`,amount:229,repeating:!0}]},{envelopeID:30,envelopeTitle:"Travel",envelopeDescription:null,transactions:[{transactionID:57,envelopeID:30,transactionDescription:"Starting Balance",date:`${z}-01`,amount:5204,repeating:!1},{transactionID:58,envelopeID:25,transactionDescription:"Flights to SC",date:`${z}-02`,amount:-453.78,repeating:!1},{transactionID:88,envelopeID:25,transactionDescription:"Deposit",date:`${W}-01`,amount:250,repeating:!0}]},{envelopeID:31,envelopeTitle:"Emergency",envelopeDescription:null,transactions:[{transactionID:60,envelopeID:31,transactionDescription:"Starting Balance",date:`${z}-01`,amount:6750,repeating:!1},{transactionID:89,envelopeID:25,transactionDescription:"Deposit",date:`${W}-01`,amount:250,repeating:!0}]},{envelopeID:32,envelopeTitle:"Income",envelopeDescription:null,transactions:[{transactionID:62,envelopeID:32,transactionDescription:"Balance",date:`${z}-01`,amount:30359.51,repeating:!1}]}]};function Ue(e){if(e!=null)return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e)}function ta(e){const t=e.replace(/[$,]/g,"");return/^[-?\d.]+$/.test(t)?parseFloat(t):"NaN"}function yn(e){const t=new Date(e);t.setDate(t.getDate()+1);const n=(t.getMonth()+1).toString().padStart(2,"0"),a=t.getDate().toString().padStart(2,"0"),r=t.getFullYear();return`${n}/${a}/${r}`}async function an(e,t){try{return await(await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).json()}catch(n){console.error(n)}}function Ot(e,t){const n=X[e];return n.indexOf(n.find(a=>a.envelopeID==t))}async function rn(e,t,n,a,r,o){const i=Ot(e,t),f={transactionID:X.highestTransactionID+1,transactionDescription:n,date:a,amount:r,repeating:o,envelopeID:t};function v(){X[e][i].transactions.push(f),X.highestTransactionID++}return Z.testingMode||await an("../php/create.php",f)?(v(),!0):!1}async function et(e,t,n,a,r){const o=Ot(e,t),i=X[e][o].transactions.indexOf(X[e][o].transactions.find(s=>s.transactionID==n)),f={transactionID:n,property:a,value:r};function v(){X[e][o].transactions[i][a]=r}(Z.testingMode||await an("../php/update.php",f))&&v()}async function na(e,t,n){const a=Ot(e,t),r=X[e][a].transactions.indexOf(X[e][a].transactions.find(i=>i.transactionID==n));function o(){X[e][a].transactions.splice(r,1),n===X.highestTransactionID&&X.highestTransactionID--}(Z.testingMode||await an("../php/delete.php",{transactionID:n}))&&o()}const Pr=(e,t,n)=>et(t.accountTitle,t.envelopeID,n,"repeating",!t.transaction.repeating);async function Lr(e,t,n,a,r,o,i,f,v,s){if(L(t,""),!(u(n)in Et[u(a)])){L(t,"Invalid account/envelope combination. Did you select an option in the Envelope dropdown?");return}if(u(n)===r.envelopeID){L(t,"Transaction is already in the selected envelope. Did you select an option in the Envelope dropdown?");return}await rn(u(a),u(n),o,i,f,r.transaction.repeating)?(na(r.accountTitle,r.envelopeID,v),L(s,!1)):L(t,"Failed to move transaction. Please try again.")}var qr=y('<input class="description svelte-3c4hed" type="text">'),zr=y('<p class="description svelte-3c4hed"></p>'),Hr=y('<i class="fa-solid fa-repeat toggle-repeating svelte-3c4hed" title="Turn repeat on or off for this transaction"></i>'),Ur=(e,t,n,a)=>t.copyTransaction(n,a,Tt,t.transaction.repeating),Yr=y('<i class="fa-solid fa-clone svelte-3c4hed" title="Copy transaction"></i>'),Wr=(e,t)=>L(t,!0),Gr=y('<i class="fa-solid fa-arrows-up-down svelte-3c4hed" title="Move transaction"></i>'),jr=(e,t)=>L(t,!0),Vr=y('<i class="fa-solid fa-trash delete-transaction svelte-3c4hed" title="Delete transaction"></i>'),Kr=y('<p class="date day-of-month svelte-3c4hed"></p>'),Zr=y("<div></div>"),Jr=y('<p class="date plain-text-date svelte-3c4hed"> </p>'),Xr=y('<input class="date svelte-3c4hed" type="date">'),Qr=y("<option> </option>"),$r=y("<option> </option>"),eo=y('<p class="error svelte-3c4hed"> </p>'),to=y('<p class="text-center svelte-3c4hed">Move <strong></strong> to new account or envelope</p> <div class="move-transaction-form svelte-3c4hed"><label for="account-select">Choose Account:</label> <select id="account-select" style="text-transform: capitalize;"></select> <label for="envelope-select">Choose Envelope:</label> <select id="envelope-select" style="text-transform: capitalize;"></select></div> <!>',1),no=(e,t)=>L(t,!1),ao=y("<button>Move</button> <button>Cancel</button>",1),ro=y('<p class="svelte-3c4hed">Are you sure you want to delete this transaction?</p> <div class="row"><span></span> <span></span> <span> </span></div>',1),oo=(e,t,n)=>na(t.accountTitle,t.envelopeID,n),io=(e,t)=>L(t,!1),so=y("<button>Delete</button> <button>Cancel</button>",1),lo=y('<div><!>  <!> <!> <!> <!> <!> <input class="amount svelte-3c4hed" type="text" size="9"></div> <!> <!>',1);function co(e,t){Ce(t,!0);const n=t.transaction.transactionID,a=t.transaction.transactionDescription,r=t.transaction.date,o=t.transaction.amount,i=!(a=="Starting Balance"||a=="Balance");let f=Q(Ue(o)),v=ve(!1),s=ve(!1),l=ve(Q(t.accountTitle)),p=ve(Q(t.envelopeID)),c=ve(""),d=r.split("-")[2];d=="01"?d="1st":d=="02"?d="2nd":d=="03"?d="3rd":(d=d.replace(/^0+/,""),d=d+"th");function g(w){const S=new Date(w);S.setDate(S.getDate()+1);const U=(S.getMonth()+1).toString().padStart(2,"0"),N=S.getDate().toString().padStart(2,"0"),M=S.getFullYear();return`${U}/${N}/${M}`}function h(){et(t.accountTitle,t.envelopeID,n,"transactionDescription",this.value)}function m(){et(t.accountTitle,t.envelopeID,n,"date",this.value)}function b(){const w=ta(this.value);w==="NaN"?alert(`${this.value} is not a valid number`):et(t.accountTitle,t.envelopeID,n,"amount",w)}var C=lo(),B=J(C),E=F(B);R(E,()=>i,w=>{var S=qr();gt(S,a),Qe("blur",S,h),D(w,S)},w=>{var S=zr();S.textContent=a,D(w,S)});var k=T(E,2);R(k,()=>t.accountTitle!="budget"&&i,w=>{var S=Hr();S.__click=[Pr,t,n],D(w,S)});var K=T(k,2);R(K,()=>i,w=>{var S=Yr();S.__click=[Ur,t,a,o],D(w,S)});var q=T(K,2);R(q,()=>i&&t.envelopeTitle!="Income",w=>{var S=Gr();S.__click=[Wr,v],D(w,S)});var _=T(q,2);R(_,()=>i,w=>{var S=Vr();S.__click=[jr,s],D(w,S)});var I=T(_,2);R(I,()=>t.accountTitle=="budget",w=>{var S=Kr();S.textContent=d,D(w,S)},w=>{var S=se(),U=J(S);R(U,()=>t.accountTitle==="savings"&&a==="Balance",N=>{var M=Zr();D(N,M)},N=>{var M=se(),O=J(M);R(O,()=>!i,Y=>{var G=Jr(),$=F(G);j(()=>ee($,g(r))),D(Y,G)},Y=>{var G=Xr();gt(G,r),j(()=>{fe(G,"min",t.dateRange[0]),fe(G,"max",t.dateRange[1])}),Qe("blur",G,m),D(Y,G)},!0),D(N,M)},!0),D(w,S)});var x=T(I,2),A=T(B,2);R(A,()=>u(v),w=>{at(w,{get showModal(){return u(v)},set showModal(N){L(v,Q(N))},modalBody:N=>{var M=to(),O=J(M),Y=T(F(O));Y.textContent=a;var G=T(O,2),$=T(F(G),2);ke($,21,()=>bt,We,(pe,ce)=>{var re=Qr(),Be={},ft=F(re);j(()=>{Be!==(Be=u(ce))&&(re.value=(re.__value=u(ce))==null?"":u(ce)),ee(ft,u(ce))}),D(pe,re)});var ye=T($,4);ke(ye,21,()=>Object.entries(Et[u(l)]),We,(pe,ce)=>{let re=()=>u(ce)[0],Be=()=>u(ce)[1];var ft=se(),ra=J(ft);R(ra,()=>Be()!="Income",oa=>{var dt=$r(),on={},ia=F(dt);j(()=>{on!==(on=re())&&(dt.value=(dt.__value=re())==null?"":re()),ee(ia,Be())}),D(oa,dt)}),D(pe,ft)});var vt=T(G,2);R(vt,()=>u(c),pe=>{var ce=eo(),re=F(ce);j(()=>ee(re,u(c))),D(pe,ce)}),mn($,()=>u(l),pe=>L(l,pe)),mn(ye,()=>u(p),pe=>L(p,pe)),D(N,M)},modalButtons:N=>{var M=ao(),O=J(M);O.__click=[Lr,c,p,l,t,a,r,o,n,v];var Y=T(O,2);Y.__click=[no,v],D(N,M)},$$slots:{modalBody:!0,modalButtons:!0}})});var P=T(A,2);R(P,()=>u(s),w=>{at(w,{get showModal(){return u(s)},set showModal(N){L(s,Q(N))},modalBody:N=>{var M=ro(),O=T(J(M),2),Y=F(O);Y.textContent=a;var G=T(Y,2);G.textContent=r;var $=T(G,2),ye=F($);j(()=>ee(ye,f)),D(N,M)},modalButtons:N=>{var M=so(),O=J(M);O.__click=[oo,t,n];var Y=T(O,2);Y.__click=[io,s],D(N,M)},$$slots:{modalBody:!0,modalButtons:!0}})}),j(()=>{fe(B,"id",t.transaction.transactionID),He(B,`transaction ${(t.transaction.repeating?"repeating":"")??""} svelte-3c4hed`),gt(x,f)}),Qe("blur",x,b),yt(3,B,()=>$n,()=>({duration:50})),D(e,C),Oe()}ut(["click"]);function uo(e,t,n){L(t,!1),L(n,"")}var vo=y('<h3 class="income-heading text-center svelte-1yvzrk6"></h3>'),fo=(e,t,n)=>t.toggleExpanded(n),po=y("<span>Day of month:</span>"),_o=y('<span class="amount"> </span>'),go=y("<span></span>"),Do=y('<div class="heading svelte-1yvzrk6"><h3> <i class="fa-solid fa-chevron-right svelte-1yvzrk6"></i></h3> <!> <span class="amount amount-total svelte-1yvzrk6"> </span></div>'),ho=y('<p class="svelte-1yvzrk6"> </p>'),mo=y('<p style="text-align: center; font-style: italic;" class="svelte-1yvzrk6">There are no transactions in this envelope</p>'),Io=(e,t)=>L(t,!0),yo=y('<button class="add-transaction svelte-1yvzrk6">+ Add Transaction</button>'),wo=y('<div class="envelope-body svelte-1yvzrk6"><!> <!></div> <!>',1),To=y("<div><!> <!></div>"),bo=y('<p class="svelte-1yvzrk6">Repeating:</p> <input type="checkbox" class="svelte-1yvzrk6">',1),Eo=y('<p class="error svelte-1yvzrk6"> </p>'),xo=y('<p class="text-center svelte-1yvzrk6"><strong></strong></p> <p class="text-center svelte-1yvzrk6">New Transaction</p> <div class="new-transaction-form svelte-1yvzrk6"><p class="svelte-1yvzrk6">Description:</p> <input type="text"> <p class="svelte-1yvzrk6">Date:</p> <input type="date"> <p class="svelte-1yvzrk6">Amount:</p> <input type="number"> <!></div> <!>',1),So=y("<button>Create Transaction</button> <button>Cancel</button>",1),ko=y("<!> <!>",1);function aa(e,t){Ce(t,!0);let n=Ge(t,"budgetEnvelopeTotals",3,""),a=t.envelope.envelopeID,r=t.envelope.envelopeTitle,o=te(()=>t.envelope.totalAmount),i=!(t.accountTitle==="savings"&&r==="Income"),f=ve(""),v=te(()=>t.accountTitle==="checking"?t.envelope.transactions.filter(k=>k.date>=t.dateRange[0]&&k.date<=t.dateRange[1]):t.envelope.transactions),s=te(()=>u(v).toSorted((k,K)=>new Date(k.date).getTime()-new Date(K.date).getTime())),l=te(()=>n()[r]),p=ve(!1),[c,d]="",g=Tt,h=!1;function m(){L(f,""),c==""||c==null?L(f,"Description cannot be empty"):g==""?L(f,"Date cannot be empty"):d==null?L(f,"Amount cannot be empty"):(rn(t.accountTitle,a,c,g,d,h),c="",d="",h=!1,L(p,!1))}function b(k,K,q,_){c=k,d=K,g=q,h=_,L(p,!0)}var C=ko(),B=J(C);Xn(B,{cardClass:"envelope",cardBody:K=>{var q=To(),_=F(q);R(_,()=>r=="Income",x=>{var A=vo();A.textContent=r,D(x,A)},x=>{var A=Do();A.__click=[fo,t,a];var P=F(A),w=F(P);w.nodeValue=`${r??""} `;var S=T(P,2);R(S,()=>t.accountTitle==="budget",M=>{var O=po();D(M,O)},M=>{var O=se(),Y=J(O);R(Y,()=>t.accountTitle==="checking"&&r!="Income",G=>{var $=_o(),ye=F($);j(()=>ee(ye,`Budget: ${Ue(u(l))??""}`)),D(G,$)},G=>{var $=go();D(G,$)},!0),D(M,O)});var U=T(S,2),N=F(U);j(()=>ee(N,Ue(u(o)))),j(()=>fe(U,"style",t.accountTitle==="checking"?`color: var(--${u(o)>u(l)?"red":"green"});`:"")),D(x,A)});var I=T(_,2);R(I,()=>t.envelope.expanded,x=>{var A=wo(),P=J(A),w=F(P);R(w,()=>t.envelope.envelopeDescription,N=>{var M=ho(),O=F(M);j(()=>ee(O,t.envelope.envelopeDescription)),D(N,M)});var S=T(w,2);R(S,()=>u(s).length,N=>{var M=se(),O=J(M);ke(O,17,()=>u(s),Y=>Y.transactionID,(Y,G)=>{co(Y,{get accountTitle(){return t.accountTitle},envelopeID:a,envelopeTitle:r,get transaction(){return u(G)},get dateRange(){return t.dateRange},copyTransaction:b})}),D(N,M)},N=>{var M=mo();D(N,M)});var U=T(P,2);R(U,()=>i,N=>{var M=yo();M.__click=[Io,p],yt(3,M,()=>ea),D(N,M)}),yt(3,P,()=>$n),D(x,A)}),j(()=>He(q,`envelope ${(t.envelope.expanded?"expanded":"")??""} svelte-1yvzrk6`)),D(K,q)},$$slots:{cardBody:!0}});var E=T(B,2);R(E,()=>u(p),k=>{at(k,{get showModal(){return u(p)},set showModal(_){L(p,Q(_))},modalBody:_=>{var I=xo(),x=J(I),A=F(x);A.textContent=r;var P=T(x,4),w=T(F(P),2),S=T(w,4),U=T(S,4),N=T(U,2);R(N,()=>t.accountTitle!="budget",O=>{var Y=bo(),G=T(J(Y),2);mr(G,()=>h,$=>h=$),D(O,Y)});var M=T(P,2);R(M,()=>u(f),O=>{var Y=Eo(),G=F(Y);j(()=>ee(G,u(f))),D(O,Y)}),Bt(w,()=>c,O=>c=O),Bt(S,()=>g,O=>g=O),Bt(U,()=>d,O=>d=O),D(_,I)},modalButtons:_=>{var I=So(),x=J(I);x.__click=m;var A=T(x,2);A.__click=[uo,p,f],D(_,I)},$$slots:{modalBody:!0,modalButtons:!0}})}),D(e,C),Oe()}ut(["click"]);var Mo=y('<input class="amount svelte-1xih9e6" type="text" size="9">'),Ao=y('<p class="amount svelte-1xih9e6"> </p>'),Co=y('<p class="amount svelte-1xih9e6"> </p>'),Oo=y('<p class="svelte-1xih9e6"> </p> <!>',1),Bo=y('<h3 class="text-center svelte-1xih9e6">Summary</h3> <div class="summary-body svelte-1xih9e6"><!> <!> <!> <!> <!> <!></div>',1),No=y('<div class="income-section svelte-1xih9e6"><!> <!></div>');function Ro(e,t){Ce(t,!0);const n=(g,h)=>{let m=Ke(()=>ge(ge(h==null?void 0:h(),()=>({}),!0).label,"")),b=Ke(()=>ge(ge(h==null?void 0:h(),()=>({}),!0).ID,"")),C=Ke(()=>ge(ge(h==null?void 0:h(),()=>({}),!0).value,0)),B=Ke(()=>ge(ge(h==null?void 0:h(),()=>({}),!0).editable,!1)),E=Ke(()=>ge(ge(h==null?void 0:h(),()=>({}),!0).color,!1));var k=Oo(),K=J(k),q=F(K),_=T(K,2);R(_,()=>u(B),I=>{var x=Mo();j(()=>gt(x,Ue(u(C)))),j(()=>fe(x,"id",u(b))),Qe("blur",x,l),D(I,x)},I=>{var x=se(),A=J(x);R(A,()=>u(E),P=>{var w=Ao(),S=F(w);j(()=>ee(S,Ue(u(C)))),j(()=>fe(w,"style",`color: var(--${u(C)>0?"green":"red"});`)),D(P,w)},P=>{var w=Co(),S=F(w);j(()=>ee(S,Ue(u(C)))),D(P,w)}),D(I,x)}),j(()=>ee(q,`${u(m)??""}:`)),D(g,k)};let a=t.assets.envelopeID,r=te(()=>t.dateRange?t.assets.transactions.filter(g=>g.date>=t.dateRange[0]&&g.date<=t.dateRange[1]):t.assets.transactions),o=te(()=>u(r).find(g=>g.transactionDescription=="Starting Balance"||g.transactionDescription=="Balance")),i=te(()=>u(r).filter(g=>g!=u(o))),f=te(()=>u(i).reduce((g,h)=>g+h.amount,0)),v=te(()=>u(o)&&u(i).length?u(o).amount+u(f):!1),s=t.accountTitle==="savings"?"Envelopes Total":"Total Expenses";function l(){const g=ta(this.value);g==="NaN"?alert(`${this.value} is not a valid number`):et(t.accountTitle,a,this.id,"amount",g)}var p=No(),c=F(p);R(c,()=>t.accountTitle!="savings",g=>{aa(g,{get envelope(){return t.assets},get accountTitle(){return t.accountTitle},get dateRange(){return t.dateRange},get toggleExpanded(){return t.toggleExpanded}})});var d=T(c,2);Xn(d,{cardClass:"summary-card",cardBody:h=>{var m=Bo(),b=T(J(m),2),C=F(b);R(C,()=>t.accountTitle==="savings",_=>{n(_,()=>({label:"Balance",ID:u(o).transactionID,value:u(o).amount,editable:!0}))});var B=T(C,2);R(B,()=>u(f),_=>{n(_,()=>({label:"Total Income",value:u(f)}))});var E=T(B,2);R(E,()=>u(v),_=>{n(_,()=>({label:"Total Assets",value:u(v)}))});var k=T(E,2);n(k,()=>({label:s,value:t.totalExpenses}));var K=T(k,2);R(K,()=>u(f),_=>{n(_,()=>({label:"Income minus Expenses",value:u(f)-t.totalExpenses,color:!0}))});var q=T(K,2);R(q,()=>t.accountTitle==="checking",_=>{n(_,()=>({label:"Assets minus Expenses",value:u(v)-t.totalExpenses,color:!0}))},_=>{var I=se(),x=J(I);R(x,()=>t.accountTitle==="savings",A=>{n(A,()=>({label:"Extra in savings",value:u(o).amount-t.totalExpenses,color:!0}))},null,!0),D(_,I)}),D(h,m)},$$slots:{cardBody:!0}}),D(e,p),Oe()}function Fo(e,t,n){e.target.value==="add-month"?t():L(n,Q(e.target.value))}function Po(e,t){t.envelopes.forEach(n=>n.expanded=!0)}function Lo(e,t){t.envelopes.forEach(n=>n.expanded=!1)}var qo=y('<div class="copy-transactions-dialog svelte-7tsfwk"><p>There are no transactions this month. Would you like to copy all of the repeating transactions from the previous month?</p> <div class="row"><button>Copy Transactions</button></div></div>'),zo=y("<option> </option>"),Ho=y('<div class="month-selector svelte-7tsfwk"><label for="month">Select Month:</label> <select id="month" class="svelte-7tsfwk"><!><option>Add Month</option></select></div>'),Uo=y("<button>Copy Transactions</button>"),Yo=y('<div class="buttons svelte-7tsfwk"><button class="open-envelopes">Open All</button> <button class="close-envelopes">Close All</button></div>'),Wo=y('<div class="transaction-envelopes svelte-7tsfwk"></div>'),Go=y('<p class="svelte-7tsfwk">Transactions copying, please wait...</p> <div class="row"><div class="spinner"></div></div>',1),jo=y('<p class="svelte-7tsfwk"><span> </span> <span> <i class="fa-solid fa-arrow-right"></i> </span></p>'),Vo=y('<h3>The following transactions will be copied:</h3> <div class="transactions-to-copy svelte-7tsfwk"></div> <p class="text-center svelte-7tsfwk">Would you like to proceed?</p>',1),Ko=y('<p class="svelte-7tsfwk">No transactions to copy</p>'),Zo=y("<button>Copy</button> <button>Cancel</button>",1),Jo=y("<button>Ok</button>"),Xo=y('<!> <div class="heading-button-row svelte-7tsfwk"><h2>Transactions</h2> <!> <!></div> <!> <!>',1);function Qo(e,t){Ce(t,!0),t.envelopes.forEach(_=>_.expanded=!0);let n=ve(Q(Tt.slice(0,7))),a=te(()=>{if(t.accountTitle==="budget")return["2025-01-01","2025-01-31"];if(t.accountTitle==="checking")return[`${u(n)}-01`,l(u(n))];if(t.accountTitle==="savings")return[t.firstTransactionDate,l(Tt)]}),r=ve(!1),o=!1,i=ve(0),f=ve(0),v=te(()=>t.envelopes.find(_=>_.envelopeTitle==="Income")),s=te(()=>t.envelopes.filter(_=>_.envelopeTitle!=="Income"));function l(_){const I=_.split("-");let x=parseInt(I[0],10),A=parseInt(I[1],10);return new Date(x,A,0).toISOString().slice(0,10)}function p(_){const I=new Date(_);return I.setDate(1),I.setMonth(I.getMonth()+1),I.toLocaleString("default",{month:"long",year:"numeric"})}function c(){let _=Je[Je.length-1],I=new Date(`${_}-02`);I.setMonth(I.getMonth()+1);let x=I.toISOString().slice(0,7);Je.push(x),L(n,Q(x))}function d(_){let I=t.envelopes.find(x=>x.envelopeID===_);I.expanded=!I.expanded}function g(){const _=new Date(u(n)),I=new Date(_);I.setDate(0),_.setDate(_.getDate()-1);const x=I.toISOString().slice(0,10),A=_.toISOString().slice(0,10);for(const P of X[t.accountTitle])for(const w of P.transactions)if(w.date>=x&&w.date<=A&&w.repeating){const S=w.date.split("-");let U=parseInt(S[0],10),N=parseInt(S[1],10),M=parseInt(S[2],10);N===12?(N=1,U+=1):N+=1,M=M>28?28:M;const O=`${String(U)}-${String(N).padStart(2,"0")}-${String(M).padStart(2,"0")}`,Y=Ot(t.accountTitle,P.envelopeID);X[t.accountTitle][Y].transactions.find($=>$.date===O&&$.transactionDescription===w.transactionDescription)||Pe.push({envelopeID:P.envelopeID,envelopeTitle:P.envelopeTitle,description:w.transactionDescription,oldDate:w.date,newDate:O,amount:w.amount})}L(r,!0)}async function h(){for(const _ of Pe)await rn(t.accountTitle,_.envelopeID,_.description,_.newDate,_.amount,!0);m()}function m(){Pe.length=0,L(r,!1)}Qt(()=>{let _=0,I=0;u(s).forEach(x=>{let A=0,P=0;x.transactions.forEach(w=>{t.accountTitle==="checking"?w.date>=u(a)[0]&&w.date<=u(a)[1]&&(A+=w.amount,P+=1):(A+=w.amount,P+=1)}),x.totalAmount=A,_+=A,I+=P}),L(f,Q(_)),L(i,Q(I))});var b=Xo(),C=J(b);R(C,()=>u(i)===0,_=>{var I=qo(),x=T(F(I),2),A=F(x);A.__click=g,D(_,I)},_=>{Ro(_,{get accountTitle(){return t.accountTitle},get assets(){return u(v)},get dateRange(){return u(a)},get totalExpenses(){return u(f)},toggleExpanded:d})});var B=T(C,2),E=T(F(B),2);R(E,()=>t.accountTitle==="checking",_=>{var I=Ho(),x=T(F(I),2);Jn(x,()=>u(n));var A;x.__change=[Fo,c,n];var P=F(x);ke(P,17,()=>Je,We,(S,U)=>{var N=zo(),M={},O=F(N);j(()=>ee(O,p(u(U)))),j(()=>{M!==(M=u(U))&&(N.value=(N.__value=u(U))==null?"":u(U))}),D(S,N)});var w=T(P);w.value=(w.__value="add-month")==null?"":"add-month",j(()=>{A!==(A=u(n))&&(x.value=(x.__value=u(n))==null?"":u(n),wt(x,u(n)))}),D(_,I)},_=>{var I=se(),x=J(I);R(x,()=>t.accountTitle==="savings",A=>{var P=Uo();P.__click=g,D(A,P)},null,!0),D(_,I)});var k=T(E,2);R(k,()=>u(i)!==0,_=>{var I=Yo(),x=F(I);x.__click=[Po,t];var A=T(x,2);A.__click=[Lo,t],D(_,I)});var K=T(B,2);R(K,()=>u(i)!==0,_=>{var I=Wo();ke(I,21,()=>u(s),x=>x.envelopeID,(x,A)=>{aa(x,{get envelope(){return u(A)},get budgetEnvelopeTotals(){return t.budgetEnvelopeTotals},get accountTitle(){return t.accountTitle},get dateRange(){return u(a)},toggleExpanded:d})}),D(_,I)});var q=T(K,2);R(q,()=>u(r),_=>{at(_,{get showModal(){return u(r)},set showModal(A){L(r,Q(A))},modalBody:A=>{var P=se(),w=J(P);R(w,()=>o,S=>{var U=Go();D(S,U)},S=>{var U=se(),N=J(U);R(N,()=>Pe.length>0,M=>{var O=Vo(),Y=T(J(O),2);ke(Y,21,()=>Pe,We,(G,$)=>{var ye=jo(),vt=F(ye),pe=F(vt),ce=T(vt,2),re=F(ce);j(()=>ee(re,`${yn(u($).oldDate)??""} `));var Be=T(re,2);j(()=>ee(Be,` ${yn(u($).newDate)??""}`)),j(()=>ee(pe,`${u($).envelopeTitle??""}: ${u($).description??""}`)),D(G,ye)}),D(M,O)},M=>{var O=Ko();D(M,O)}),D(S,U)}),D(A,P)},modalButtons:A=>{var P=se(),w=J(P);R(w,()=>!o,S=>{var U=se(),N=J(U);R(N,()=>Pe.length>0,M=>{var O=Zo(),Y=J(O);Y.__click=h;var G=T(Y,2);G.__click=m,D(M,O)},M=>{var O=Jo();O.__click=m,D(M,O)}),D(S,U)}),D(A,P)},$$slots:{modalBody:!0,modalButtons:!0}})}),D(e,b),Oe()}ut(["click","change"]);var $o=(e,t)=>{t(!t())},ei=y('<div class="switch svelte-derkhq"><div class="handle svelte-derkhq"></div></div>');function wn(e,t){let n=Ge(t,"state",15),a=Ge(t,"color",3,"grey-100");var r=ei();r.__click=[$o,n],j(()=>{fe(r,"data-active",n()),fe(r,"style",`--accent: ${(n()?`var(--${a()})`:"#fff")??""}`)}),D(e,r)}ut(["click"]);var ti=y('<div class="overlay svelte-115u0gs" title="When using placeholder data, testing mode cannot be disabled"></div>'),ni=(e,t,n)=>t(u(n)),ai=y("<button> </button>"),ri=y("<p>Data is loading</p>"),oi=y('<section class="account-section svelte-115u0gs"><h1 class="svelte-115u0gs"> </h1> <!></section>'),ii=y('<p class="svelte-115u0gs">Could not connect to database. Placeholder Data loaded instead.</p>'),si=y("<button>OK</button>"),li=y('<div id="app-body"><header class="svelte-115u0gs"><div id="testing-mode-toggle" class="toggle svelte-115u0gs" title="When testing mode is on, no changes will be written to the database"><p class="svelte-115u0gs">Testing Mode</p> <!> <!></div> <div class="section-buttons svelte-115u0gs"></div> <div id="one-section" class="toggle svelte-115u0gs" title="When enabled, only one section will be displayed at a time"><p class="svelte-115u0gs">One At A Time</p> <!></div></header> <main><!> <!></main></div>');function ci(e,t){Ce(t,!0),Or();let n=Q({});Qt(()=>{X.ready&&X.budget.forEach(m=>{let b=0;m.transactions.forEach(C=>{b+=C.amount}),n[m.envelopeTitle]=b})});function a(m){Z.oneSectionAtATime?Z.sectionDisplayed=[m]:Z.sectionDisplayed.includes(m)?Z.sectionDisplayed=Z.sectionDisplayed.filter(b=>b!==m):Z.sectionDisplayed=[...Z.sectionDisplayed,m]}var r=li(),o=F(r),i=F(o),f=T(F(i),2);wn(f,{get state(){return Z.testingMode},set state(m){Z.testingMode=m},color:"testing-accent"});var v=T(f,2);R(v,()=>!Z.canToggleTestingMode,m=>{var b=ti();D(m,b)});var s=T(i,2);ke(s,21,()=>bt,We,(m,b)=>{var C=ai();const B=te(()=>`${`account-selector ${Z.sectionDisplayed.includes(u(b))?"":"inactive"}`??""} svelte-115u0gs`);C.__click=[ni,a,b];var E=F(C);j(()=>{He(C,u(B)),fe(C,"style",`--accent: var(--${u(b)}-accent)`),ee(E,u(b))}),D(m,C)});var l=T(s,2),p=T(F(l),2),c=te(()=>`${Z.sectionDisplayed[0]}-accent`);wn(p,{get state(){return Z.oneSectionAtATime},set state(m){Z.oneSectionAtATime=m},get color(){return u(c)}});var d=T(o,2),g=F(d);R(g,()=>!X.ready,m=>{var b=ri();D(m,b)},m=>{var b=se(),C=J(b);ke(C,17,()=>bt,We,(B,E)=>{var k=oi();const K=te(()=>`--accent: var(--${u(E)}-accent); ${Z.sectionDisplayed.includes(u(E))?"":"display: none;"}`);var q=F(k),_=F(q),I=T(q,2);Qo(I,{get accountTitle(){return u(E)},get envelopes(){return X[u(E)]},get budgetEnvelopeTotals(){return n},get firstTransactionDate(){return X.firstTransactionDate}}),j(()=>{fe(k,"id",u(E)),fe(k,"style",u(K)),ee(_,u(E))}),D(B,k)}),D(m,b)});var h=T(g,2);R(h,()=>Z.showConnectErrorModal,m=>{at(m,{get showModal(){return Z.showConnectErrorModal},set showModal(B){Z.showConnectErrorModal=B},modalBody:B=>{var E=ii();D(B,E)},modalButtons:B=>{var E=si();E.__click=()=>Z.showConnectErrorModal=!1,D(B,E)},$$slots:{modalBody:!0,modalButtons:!0}})}),j(()=>{He(r,`${(Z.testingMode?"testing-mode":"")??""} svelte-115u0gs`),He(d,`${(Z.sectionDisplayed.length>1?"multiple-accounts":"")??""} svelte-115u0gs`),fe(d,"style",`--grid-rows: ${X.maxEnvelopes+2}`)}),D(e,r),Oe()}ut(["click"]);sr(ci,{target:document.getElementById("app")});
